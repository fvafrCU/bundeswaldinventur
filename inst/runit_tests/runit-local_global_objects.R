if (interactive()) devtools::load_all()
if (FALSE) {
    dump("result")
    debugonce(Totholz.klass.stratum.fun)
}

test_get_package_data <- function() {
  result <- get_package_data("bundeswaldinventur")
  reference  <- c("bacode", "baeume.1", "baeume.12", "baeume.2", "baeume.23",
"baeume.3", "ecke.feld.3", "ecken.1", "ecken.2", "ecken.23",
"ecken.3", "fba.2", "fba.3", "gk_coord", "kreise", "ntns.te",
"schutzgebiete.3", "totholz.2", "totholz.3", "trakte.1", "trakte.2",
"trakte.3", "verj.2", "verj.3", "verj.kl4m.2", "verj.kl4m.3",
"wzp4.merkmale.2", "wzp4.merkmale.3", "x_dichte", "x_fba.3")

  RUnit::checkIdentical(reference[order(result)], result)
  reference <- structure(list(ICode = structure(c(10L, 11L, 12L, 13L, 14L, 15L, 
16L, 19L, 20L, 21L, 22L, 23L, 24L, 25L, 26L, 27L, 29L, 30L, 31L, 
32L, 33L, 34L, 35L, 36L, 39L, 40L, 50L, 51L, 90L, 91L, 92L, 93L, 
94L, 95L, 99L, 100L, 110L, 111L, 112L, 113L, 114L, 120L, 121L, 
130L, 140L, 141L, 142L, 143L, 144L, 150L, 160L, 170L, 180L, 181L, 
190L, 191L, 192L, 193L, 194L, 195L, 196L, 199L, 200L, 201L, 210L, 
211L, 212L, 213L, 220L, 221L, 222L, 223L, 224L, 230L, 240L, 250L, 
251L, 252L, 290L, 291L, 292L, 293L, 294L, 295L, 296L, 299L, 998L, 
999L), label = "ICode", class = c("labelled", "integer")), ACode = structure(c(10L, 
11L, 12L, 13L, 14L, 15L, 16L, 19L, 20L, 21L, 22L, 23L, 24L, 25L, 
26L, 27L, 29L, 30L, 31L, 32L, 33L, 34L, 35L, 36L, 39L, 40L, 50L, 
51L, 90L, 91L, 92L, 93L, 94L, 95L, 99L, 100L, 110L, 111L, 112L, 
113L, 114L, 120L, 121L, 130L, 140L, 141L, 142L, 143L, 144L, 150L, 
160L, 170L, 180L, 181L, 190L, 191L, 192L, 193L, 194L, 195L, 196L, 
199L, 200L, 201L, 210L, 211L, 212L, 213L, 220L, 221L, 222L, 223L, 
224L, 230L, 240L, 250L, 251L, 252L, 290L, 291L, 292L, 293L, 294L, 
295L, 296L, 299L, 998L, 999L), label = "ACode", class = c("labelled", 
"integer")), KurzD = structure(c(24L, 45L, 54L, 68L, 14L, 6L, 
81L, 57L, 33L, 8L, 56L, 49L, 86L, 82L, 41L, 25L, 58L, 84L, 4L, 
11L, 34L, 42L, 43L, 75L, 62L, 12L, 17L, 32L, 61L, 35L, 31L, 37L, 
15L, 69L, 3L, 10L, 52L, 70L, 47L, 85L, 67L, 20L, 80L, 30L, 5L, 
51L, 21L, 13L, 55L, 36L, 50L, 71L, 48L, 16L, 59L, 64L, 38L, 40L, 
44L, 65L, 46L, 1L, 7L, 39L, 19L, 53L, 79L, 23L, 87L, 63L, 27L, 
83L, 9L, 73L, 78L, 28L, 74L, 66L, 60L, 22L, 76L, 77L, 29L, 18L, 
26L, 2L, 72L, 72L), .Label = c("?LH", "?LN", "ANB", "ATA", "BAH", 
"BFI", "BI", "BKI", "BPA", "BU", "CTA", "DGL", "EAH", "EFI", 
"EIB", "EKA", "ELA", "ELS", "ERL", "ES", "FAH", "FAU", "GER", 
"GFI", "GKI", "GOT", "GPA", "GTK", "HAS", "HBU", "HT", "JLA", 
"KI", "KTA", "LB", "LI", "MAM", "MAU", "MBI", "MEB", "MKI", "NITA", 
"NOTA", "NUS", "OFI", "PLA", "REI", "RKA", "RKI", "ROB", "SAH", 
"SEI", "SER", "SFI", "SIAH", "SKI", "SOFI", "SOKI", "SOLH", "SOLN", 
"SONB", "SOTA", "SPA", "SPE", "STE", "STK", "SUEI", "SWFI", "SZ", 
"TEI", "UL", "UNB", "VB", "VK", "VTA", "WAP", "WBI", "WEI", "WER", 
"WES", "WFI", "WKI", "WPA", "WTA", "ZEI", "ZKI", "ZPA"), class = c("labelled", 
"factor"), label = "KurzD"), Konv_Ba2_Ba3 = structure(c(10L, 
19L, 12L, 19L, 19L, 19L, 19L, 19L, 20L, 21L, 22L, 29L, 24L, 25L, 
29L, 29L, 29L, 30L, 39L, 39L, 33L, 39L, 39L, 39L, 39L, 40L, 50L, 
51L, 90L, 90L, 90L, 90L, 94L, 90L, 90L, 100L, 110L, 111L, 112L, 
190L, 190L, 120L, 190L, 130L, 140L, 141L, 142L, 190L, 190L, 150L, 
160L, 170L, 190L, 181L, 190L, 191L, 199L, 193L, 199L, 199L, 199L, 
199L, 200L, 201L, 210L, 211L, 212L, NA, 220L, 221L, 222L, 223L, 
224L, 230L, 240L, 250L, 251L, 252L, 290L, NA, 292L, 293L, 290L, 
295L, 290L, 290L, NA, NA), label = "Konv_Ba2_Ba3", class = c("labelled", 
"integer")), AutoKonv_Ba2_Ba3 = structure(c(10L, 19L, 12L, 19L, 
19L, 19L, 19L, 19L, 20L, 21L, 22L, 29L, 24L, 25L, 29L, 29L, 29L, 
30L, 39L, 39L, 33L, 39L, 39L, 39L, 39L, 40L, 50L, 51L, 90L, 90L, 
90L, 90L, 94L, 90L, 90L, 100L, 110L, 111L, 112L, 190L, 190L, 
120L, 190L, 130L, 140L, 141L, 142L, 190L, 190L, 150L, 160L, 170L, 
190L, 181L, 190L, 191L, 199L, 193L, 199L, 199L, 199L, 199L, 200L, 
201L, 210L, 211L, 212L, 213L, 220L, 221L, 222L, 223L, 224L, 230L, 
240L, 250L, 251L, 252L, 290L, 291L, 292L, 293L, 290L, 295L, 290L, 
290L, NA, NA), label = "AutoKonv_Ba2_Ba3", class = c("labelled", 
"integer")), BaGr = structure(c(7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 
9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 11L, 11L, 11L, 11L, 11L, 
11L, 11L, 11L, 5L, 10L, 10L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 4L, 
6L, 6L, 6L, 6L, 6L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
2L, 2L, 8L, 3L), .Label = c("ALH", "ALN", "BL", "BU", "DGL", 
"EI", "FI", "iBL", "KI", "LAE", "TA"), class = c("labelled", 
"factor"), label = "BaGr"), BDAT.BA = structure(c(14L, 14L, 28L, 
14L, 15L, 14L, 14L, 14L, 19L, 19L, 29L, 20L, 19L, 40L, 20L, 19L, 
19L, 33L, 33L, 33L, 22L, 33L, 33L, 33L, 34L, 7L, 10L, 17L, 32L, 
35L, 36L, 32L, 32L, 32L, 32L, 6L, 8L, 8L, 25L, 8L, 8L, 12L, 12L, 
16L, 3L, 27L, 13L, 2L, 2L, 23L, 26L, 37L, 18L, 18L, 30L, 30L, 
30L, 30L, 30L, 30L, 30L, 30L, 4L, 4L, 11L, 11L, 11L, 11L, 24L, 
24L, 24L, 24L, 5L, 38L, 39L, 21L, 21L, 21L, 30L, 30L, 30L, 30L, 
30L, 9L, 31L, 30L, 1L, 1L), .Label = c("", "Ah", "BAh", "Bi", 
"BPa", "Bu", "Dgl", "Ei", "El", "ELa", "Erl", "Es", "FAh", "Fi", 
"FI", "HBu", "JLa", "Ka", "Ki", "KI", "Kir", "KTa", "Li", "Pa", 
"REi", "Rob", "SAh", "SFi", "SKi", "SLb", "SLB", "SNb", "Ta", 
"TA", "Thu", "Tsu", "Ul", "Vb", "Wei", "Wey"), class = c("labelled", 
"factor"), label = "BDAT-BA"), BDAT.BANr = structure(c(1L, 1L, 
2L, 1L, 1L, 1L, 1L, 1L, 5L, 5L, 6L, 5L, 5L, 7L, 5L, 5L, 5L, 3L, 
3L, 3L, 4L, 3L, 3L, 3L, 3L, 8L, 10L, 11L, 14L, 12L, 13L, 14L, 
14L, 14L, 14L, 15L, 17L, 17L, 18L, 17L, 17L, 21L, 21L, 16L, 23L, 
24L, 25L, 22L, 22L, 27L, 31L, 30L, 33L, 33L, 35L, 35L, 35L, 35L, 
35L, 35L, 35L, 35L, 26L, 26L, 28L, 28L, 28L, 28L, 19L, 19L, 19L, 
19L, 20L, 36L, 34L, 29L, 29L, 29L, 35L, 35L, 35L, 35L, 35L, 32L, 
35L, 35L, 0L, 0L), label = "BDAT-BANr", class = c("labelled", 
"integer")), EHK.BA = structure(c(10L, 10L, 10L, 10L, 10L, 10L, 
10L, 10L, 20L, 20L, 20L, 20L, 20L, 20L, 20L, 20L, 20L, 30L, 30L, 
30L, 30L, 30L, 30L, 30L, 30L, 40L, 50L, 50L, 10L, 10L, 10L, 10L, 
10L, 10L, 10L, 100L, 110L, 110L, 110L, 110L, 110L, 120L, 120L, 
120L, 120L, 120L, 120L, 120L, 120L, 120L, 120L, 120L, 120L, 120L, 
120L, 120L, 120L, 120L, 120L, 120L, 120L, 120L, 200L, 200L, 200L, 
200L, 200L, 200L, 200L, 200L, 200L, 200L, 200L, 200L, 200L, 200L, 
200L, 200L, 200L, 200L, 200L, 200L, 200L, 200L, 200L, 200L, NA, 
NA), label = "EHK-BA", class = c("labelled", "integer")), StFl.BA = structure(c(8L, 
8L, 8L, 8L, 8L, 8L, 8L, 8L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, 
10L, 10L, 14L, 14L, 14L, 14L, 14L, 14L, 14L, 14L, 4L, 11L, 9L, 
8L, 8L, 8L, 4L, 8L, 4L, 8L, 3L, 5L, 5L, 13L, 5L, 5L, 7L, 7L, 
3L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 5L, 7L, 7L, 7L, 7L, 7L, 7L, 
7L, 7L, 7L, 2L, 2L, 6L, 6L, 6L, 6L, 12L, 12L, 12L, 12L, 12L, 
7L, 7L, 7L, 7L, 7L, 7L, 7L, 5L, 5L, 7L, 7L, 7L, 7L, 1L, 1L), .Label = c("", 
"Bi", "Bu", "Dgl", "Ei", "Er", "Es", "Fi", "JLa", "Ki", "Lae", 
"PA", "REi", "Ta"), class = c("labelled", "factor"), label = "StFl-BA"), 
    BA_STR = structure(c(9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 11L, 
    11L, 11L, 11L, 11L, 11L, 11L, 11L, 11L, 14L, 14L, 14L, 14L, 
    14L, 14L, 14L, 14L, 4L, 6L, 10L, 9L, 9L, 9L, 9L, 9L, 9L, 
    9L, 3L, 5L, 5L, 13L, 5L, 5L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 
    8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 2L, 
    2L, 7L, 7L, 7L, 7L, 12L, 12L, 12L, 12L, 12L, 8L, 8L, 8L, 
    8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 1L, 1L), .Label = c("", 
    "BI", "BU", "DGL", "EI", "ELA", "ERL", "ES", "FI", "JLA", 
    "KI", "PA", "REI", "TA"), class = c("labelled", "factor"), label = "BA_STR"), 
    Krenn_HT.BA = structure(c(8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 
    9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 9L, 10L, 10L, 10L, 10L, 10L, 
    10L, 10L, 10L, 8L, 9L, 9L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 4L, 
    5L, 5L, 5L, 5L, 5L, 7L, 7L, 4L, 5L, 4L, 5L, 7L, 7L, 4L, 5L, 
    5L, 5L, 5L, 5L, 5L, 7L, 5L, 5L, 7L, 7L, 7L, 3L, 3L, 6L, 6L, 
    6L, 6L, 5L, 2L, 5L, 5L, 4L, 5L, 3L, 5L, 5L, 5L, 3L, 7L, 5L, 
    5L, 7L, 5L, 7L, 7L, 1L, 1L), .Label = c("", "aPa", "Bi", 
    "Bu", "Ei", "Er", "Es", "Fi", "Ki", "Ta"), class = c("labelled", 
    "factor"), label = "Krenn_HT-BA"), WKoeff_BA = structure(c(6L, 
    6L, 6L, 6L, 6L, 6L, 6L, 6L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 8L, 
    8L, 10L, 10L, 10L, 4L, 10L, 10L, 10L, 10L, 4L, 9L, 9L, 6L, 
    6L, 6L, 6L, 9L, 6L, 6L, 3L, 5L, 5L, 3L, 5L, 5L, 7L, 7L, 7L, 
    7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 
    7L, 7L, 7L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 1L, 1L), .Label = c("", 
    "Bi", "Bu", "Dgl", "Ei", "Fi", "Hbu", "Ki", "Lae", "Ta"), class = c("labelled", 
    "factor"), label = "WKoeff_BA"), WKoeff_BA_Code = structure(c(1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 3L, 3L, 3L, 4L, 3L, 3L, 3L, 3L, 4L, 5L, 5L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 10L, 11L, 11L, 10L, 11L, 11L, 12L, 12L, 19L, 
    14L, 14L, 14L, 14L, 14L, 19L, 19L, 19L, 19L, 19L, 19L, 19L, 
    19L, 19L, 19L, 19L, 19L, 19L, 20L, 20L, 21L, 21L, 21L, 21L, 
    22L, 22L, 22L, 22L, 22L, 29L, 29L, 29L, 29L, 29L, 29L, 29L, 
    29L, 29L, 29L, 29L, 29L, 29L, 99L, 99L), label = "WKoeff_BA_Code", class = c("labelled", 
    "integer")), Kommentar = structure(c(1L, 1L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L), .Label = "Stand 2013-04-16", class = c("labelled", 
    "factor"), label = "Kommentar"), WKoeff_BA_Code_alt = structure(c(1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 3L, 3L, 3L, 4L, 3L, 3L, 3L, 3L, 4L, 5L, 5L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 10L, 11L, 11L, 10L, 11L, 11L, 12L, 12L, 19L, 
    14L, 14L, 14L, 14L, 14L, 19L, 19L, 19L, 19L, 19L, 19L, 19L, 
    19L, 19L, 19L, 19L, 19L, 19L, 20L, 20L, 21L, 21L, 21L, 21L, 
    22L, 22L, 22L, 22L, 22L, 29L, 29L, 29L, 29L, 29L, 29L, 29L, 
    29L, 29L, 29L, 29L, 29L, 29L, 99L, 99L), label = "WKoeff_BA_Code_alt", class = c("labelled", 
    "integer")), WKoeff_BA_BWI3 = structure(c(9L, 9L, 9L, 9L, 
    9L, 9L, 9L, 9L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, 10L, 
    15L, 15L, 15L, 5L, 15L, 15L, 15L, 15L, 5L, 11L, 11L, 9L, 
    9L, 9L, 9L, 9L, 9L, 9L, 4L, 6L, 6L, 4L, 6L, 6L, 8L, 8L, 13L, 
    2L, 2L, 2L, 2L, 2L, 13L, 13L, 13L, 13L, 13L, 13L, 13L, 13L, 
    13L, 13L, 13L, 13L, 13L, 3L, 3L, 7L, 7L, 7L, 7L, 12L, 12L, 
    12L, 12L, 12L, 14L, 14L, 14L, 14L, 14L, 14L, 14L, 14L, 14L, 
    14L, 14L, 14L, 14L, 1L, 1L), .Label = c("", "Ah", "Bi", "Bu", 
    "Dgl", "Ei", "Er", "Es", "Fi", "Ki", "Lae", "Pa", "sHL", 
    "sWL", "Ta"), class = c("labelled", "factor"), label = "WKoeff_BA_BWI3")), .Names = c("ICode", 
"ACode", "KurzD", "Konv_Ba2_Ba3", "AutoKonv_Ba2_Ba3", "BaGr", 
"BDAT.BA", "BDAT.BANr", "EHK.BA", "StFl.BA", "BA_STR", "Krenn_HT.BA", 
"WKoeff_BA", "WKoeff_BA_Code", "Kommentar", "WKoeff_BA_Code_alt", 
"WKoeff_BA_BWI3"), row.names = c(NA, -88L), class = "data.frame")

  RUnit::checkIdentical(bacode, reference)

  result <- ls(envir = .GlobalEnv)
  reference  <- c("bacode", "baeume.1", "baeume.12", "baeume.2", "baeume.23",
"baeume.3", "ecke.feld.3", "ecken.1", "ecken.2", "ecken.23",
"ecken.3", "fba.2", "fba.3", "gk_coord", "kreise", "ntns.te",
 "schutzgebiete.3", "totholz.2", "totholz.3",
"trakte.1", "trakte.2", "trakte.3", "verj.2", "verj.3", "verj.kl4m.2",
"verj.kl4m.3", "wzp4.merkmale.2", "wzp4.merkmale.3", "x_dichte",
"x_fba.3")
  RUnit::checkTrue(all(reference %in% result))

}

if (interactive()) test_get_package_data()

test_get_global_variables <- function() {
 get_global_variables()
  result <- ls(envir = .GlobalEnv)

  reference <- c("A", "A.12", "bagr.bwi", "BAGR.BWI", "bagr.list", "BAGR.LIST",
"COLORS_BWI", "nT", "nTE", "nTE.12", "RF", "RF.12")

  RUnit::checkTrue(all(reference %in% result))

  reference <- structure(list(bagr.lab = c("FI", "TA", "DGL", "KI", "LAE", "BU",
"EI", "ALH", "ALN"), ba.grupp = list(c(10L, 11L, 12L, 13L, 14L,
15L, 16L, 17L, 18L, 19L, 90L, 91L, 92L, 93L, 94L, 95L, 96L, 97L,
98L, 99L), 30:39, 40, 20:29, c(50, 51), 100, 110:114, 120:199,
    200:299), ba.colors = c("grey30", "red", "violet", "orange",
"yellow", "green", "darkblue", "#64BE96", "brown"), ba.text = c("Fichte",
"Tanne", "Douglasie", "Kiefer", "Lärche", "Buche", "Eiche",
"ALH", "ALN")), .Names = c("bagr.lab", "ba.grupp", "ba.colors",
"ba.text"))
  RUnit::checkIdentical(BAGR.BWI, reference)
}
if (interactive()) test_get_global_variables()

test_get_global_objects <- function() {
    result <- get_global_objects(package = "bundeswaldinventur")
    reference <- NULL
    RUnit::checkIdentical(result, reference)

}
